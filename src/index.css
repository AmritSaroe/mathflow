@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Reset & base ──────────────────────────────────── */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
}

html, body, #root {
  height: 100%;
  overscroll-behavior: none;
}

body {
  background: var(--md-sys-color-background);
  color: var(--md-sys-color-on-surface);
  font-family: 'Roboto', system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Remove number input spinners */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; }
input[type=number] { -moz-appearance: textfield; }

/* ── M3 Type Scale ─────────────────────────────────── */
.md-display-large  { font-size: 57px;  line-height: 64px;  letter-spacing: -.25px; font-weight: 400; }
.md-display-medium { font-size: 45px;  line-height: 52px;  letter-spacing: 0;      font-weight: 400; }
.md-display-small  { font-size: 36px;  line-height: 44px;  letter-spacing: 0;      font-weight: 400; }
.md-headline-large  { font-size: 32px; line-height: 40px;  letter-spacing: 0;      font-weight: 400; }
.md-headline-medium { font-size: 28px; line-height: 36px;  letter-spacing: 0;      font-weight: 400; }
.md-headline-small  { font-size: 24px; line-height: 32px;  letter-spacing: 0;      font-weight: 400; }
.md-title-large   { font-size: 22px;  line-height: 28px;  letter-spacing: 0;       font-weight: 400; }
.md-title-medium  { font-size: 16px;  line-height: 24px;  letter-spacing: .15px;   font-weight: 500; }
.md-title-small   { font-size: 14px;  line-height: 20px;  letter-spacing: .1px;    font-weight: 500; }
.md-body-large    { font-size: 16px;  line-height: 24px;  letter-spacing: .5px;    font-weight: 400; }
.md-body-medium   { font-size: 14px;  line-height: 20px;  letter-spacing: .25px;   font-weight: 400; }
.md-body-small    { font-size: 12px;  line-height: 16px;  letter-spacing: .4px;    font-weight: 400; }
.md-label-large   { font-size: 14px;  line-height: 20px;  letter-spacing: .1px;    font-weight: 500; }
.md-label-medium  { font-size: 12px;  line-height: 16px;  letter-spacing: .5px;    font-weight: 500; }
.md-label-small   { font-size: 11px;  line-height: 16px;  letter-spacing: .5px;    font-weight: 500; }

/* ── DM Mono — math content only ──────────────────── */
.dm-mono {
  font-family: 'DM Mono', monospace;
  font-weight: 300;
}

/* ── M3 State Layer ────────────────────────────────── */
.md-state {
  position: relative;
  isolation: isolate;
  overflow: hidden;
}
.md-state::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: currentColor;
  opacity: 0;
  pointer-events: none;
  transition: opacity 100ms;
}
.md-state:hover::after  { opacity: 0.08; }
.md-state:active::after { opacity: 0.12; }
.md-state:focus-visible::after { opacity: 0.12; }

/* ── Scrollbars ────────────────────────────────────── */
::-webkit-scrollbar       { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--md-sys-color-outline-variant); border-radius: 2px; }

/* ── Keyframes ─────────────────────────────────────── */
@keyframes md-shake {
  0%,100% { transform: translateX(0); }
  14%     { transform: translateX(-8px); }
  28%     { transform: translateX(8px); }
  42%     { transform: translateX(-8px); }
  57%     { transform: translateX(8px); }
  71%     { transform: translateX(-4px); }
  85%     { transform: translateX(4px); }
}
.anim-shake { animation: md-shake 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97) both; }

@keyframes md-score-in {
  from { opacity: 0; transform: translateY(-8px); }
  to   { opacity: 1; transform: translateY(0); }
}
.anim-score-in { animation: md-score-in 0.25s cubic-bezier(0, 0, 0, 1) both; }

@keyframes md-timer-warn {
  0%, 100% { opacity: 1; }
  50%      { opacity: 0.4; }
}
.anim-timer-warn { animation: md-timer-warn 1s ease-in-out infinite; }
